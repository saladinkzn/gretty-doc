<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>tomcat.xml support</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/user.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
   

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Gretty documentation
          <img id="logo" src="images/logo_small.png"/></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="index.html">Home</a></li>
            <li><a href="Feature-overview.html">Feature overview</a></li>
            <li><a href="https://github.com/akhikhl/gretty">Sources</a></li>
            <li><a href="Troubleshooting.html">Troubleshooting</a></li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">
	
	<div class="page-header">
		<h1>tomcat.xml support</h1>
	</div>

	<p><div class="paragraph">
<p>"tomcat.xml" is the configuration file for Tomcat (for server itself, not for web-app).</p>
</div>
<div class="paragraph">
<p>The purpose and syntax of "tomcat.xml" is documented in <a href="http://tomcat.apache.org/tomcat-8.0-doc/config/index.html">Tomcat configuration reference</a>.</p>
</div>
<div class="paragraph">
<p>Gretty recognizes and supports "tomcat.xml". As soon as Gretty finds existing "tomcat.xml" file, it reads the file and uses it to configure tomcat server. Even if "tomcat.xml" is not found, Gretty still works.</p>
</div>
<div class="paragraph">
<p>You can (but you don&#8217;t have to) specify "tomcat.xml" file via property "serverConfigFile" in Gretty configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">gretty {
  // ...
  serverConfigFile = 'someFile.xml'
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If serverConfigFile is not specified, Gretty looks for one of the files: "tomcat8.xml" (for Tomcat 8), "tomcat7.xml" (for Tomcat 7), "tomcat.xml", "tomcat8-server.xml" (for Tomcat 8), "tomcat7-server.xml" (for Tomcat 7), "server.xml". Tomcat version is defined by <a href="Gretty-configuration.html#_servletcontainer">gretty.servletContainer</a> property.</p>
</div>
<div class="paragraph">
<p>If explicitly defined serverConfigFile represents an absolute path, gretty will use just that.</p>
</div>
<div class="paragraph">
<p>If implicitly or explicitly defined serverConfigFile represents a relative path, gretty tries to resolve it in the following directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"$project.projectDir/tomcat"</p>
</li>
<li>
<p>"$project.projectDir/server"</p>
</li>
<li>
<p>"$project.projectDir/config"</p>
</li>
<li>
<p>recursively in the abovementioned folders of the overlay sources (if any)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you generate a <a href="Product-generation.html">product</a>, "tomcat.xml" file is automatically copied to "conf" subdirectory and referenced in "conf/server.json". The running product automatically applies "tomcat.xml" files listed in "conf/server.json".</p>
</div>
<div class="paragraph">
<p>When you run a farm or generate product from a farm, serverConfigFile is taken from farm or product configuration, not from gretty configurations.</p>
</div>
<div class="paragraph">
<p>Gretty sources contain example program demonstrating support of "tomcat.xml" at work:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/akhikhl/gretty/tree/master/examples/testTomcatServerConfig" class="bare">https://github.com/akhikhl/gretty/tree/master/examples/testTomcatServerConfig</a></p>
</div>
<div class="paragraph">
<p>See also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="tomcat-context.xml-support.html">tomcat-context.xml support</a></p>
</li>
<li>
<p><a href="Gretty-configuration.html">Gretty configuration</a></p>
</li>
</ul>
</div></p>

	<hr />

		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2014 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.3.2</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    
  </body>
</html>